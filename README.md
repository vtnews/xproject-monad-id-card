# MBTI性格测定dApp - 产品需求文档 (PRD)

## 1. 产品概述

### 1.1 产品名称
**MBTI性格测定dApp** - 基于区块链的简易MBTI性格测试工具

### 1.2 产品定位
一款轻量级的MBTI性格测定工具，用户可以通过简单的测试获得自己的MBTI性格类型，并将结果永久记录在区块链上。

### 1.3 目标用户
- 对MBTI性格测试感兴趣的用户
- 希望了解自己性格类型的用户
- 想要在区块链上永久保存测试结果的用户

## 2. 核心功能

### 2.1 主要功能模块

#### 2.1.1 性格测试模块
- **测试题目**: 8道精选MBTI题目，覆盖4个维度
- **题目类型**: 单选题，每题2个选项
- **测试流程**: 
  - 用户连接钱包
  - 开始测试
  - 逐题作答
  - 提交结果

#### 2.1.2 结果展示模块
- **MBTI类型**: 显示16种MBTI性格类型之一
- **类型描述**: 简洁的性格特征描述
- **区块链记录**: 将测试结果永久存储在区块链上
- **分享功能**: 生成可分享的结果链接

#### 2.1.3 历史记录模块
- **个人历史**: 查看自己之前的测试记录
- **结果对比**: 比较不同时间的测试结果

### 2.2 技术特性
- **去中心化**: 测试结果存储在区块链上，不可篡改
- **隐私保护**: 用户可以选择匿名测试
- **永久保存**: 测试结果永久保存在区块链上
- **透明可信**: 所有测试逻辑和结果公开透明

## 3. 用户界面设计

### 3.1 页面结构

#### 3.1.1 首页 (`/`)
- 产品介绍
- 开始测试按钮
- 连接钱包提示

#### 3.1.2 测试页面 (`/test`)
- 进度条显示
- 当前题目展示
- 选项按钮
- 上一题/下一题导航

#### 3.1.3 结果页面 (`/result`)
- MBTI类型展示
- 性格描述
- 区块链交易信息
- 分享按钮
- 重新测试按钮

#### 3.1.4 历史页面 (`/history`)
- 个人测试历史
- 结果时间线
- 详细查看功能

### 3.2 设计风格
- **简洁现代**: 采用简洁的UI设计
- **色彩搭配**: 使用MBTI相关的色彩主题
- **响应式**: 支持移动端和桌面端

## 4. 智能合约设计

### 4.1 合约功能

#### 4.1.1 MBTI测试合约
```solidity
// 主要功能
- 提交测试结果
- 查询用户历史记录
- 获取测试统计信息
```

#### 4.1.2 数据结构
```solidity
struct TestResult {
    address user;
    string mbtiType;
    uint256 timestamp;
    uint8[] answers;
}
```

### 4.2 合约方法
- `submitTestResult(string memory mbtiType, uint8[] memory answers)`
- `getUserResults(address user)`
- `getAllResults()`

## 5. 测试题目设计

### 5.1 题目结构 (8题)
1. **E/I维度**: 你更喜欢独处还是社交？
2. **E/I维度**: 在团队中你更倾向于？
3. **S/N维度**: 你更关注细节还是整体？
4. **S/N维度**: 解决问题时你更依赖？
5. **T/F维度**: 做决定时你更看重？
6. **T/F维度**: 处理冲突时你更倾向于？
7. **J/P维度**: 你更喜欢计划还是随机？
8. **J/P维度**: 面对新项目你更倾向于？

### 5.2 结果计算逻辑
- 每个维度根据答案计算倾向性
- 生成对应的MBTI四字母代码
- 匹配16种性格类型

## 6. 开发计划

### 6.1 开发阶段 (4小时)

#### 阶段1: 智能合约开发 (1小时)
- [ ] 编写MBTI测试合约
- [ ] 部署合约到本地网络
- [ ] 测试合约功能

#### 阶段2: 前端页面开发 (2小时)
- [ ] 创建测试页面组件
- [ ] 实现题目展示逻辑
- [ ] 开发结果计算算法
- [ ] 集成区块链交互

#### 阶段3: 结果展示开发 (1小时)
- [ ] 设计结果页面
- [ ] 实现MBTI类型展示
- [ ] 添加分享功能
- [ ] 优化用户体验

### 6.2 技术栈
- **前端**: Next.js + TypeScript + Tailwind CSS
- **区块链**: Hardhat + Solidity
- **钱包集成**: RainbowKit + Wagmi
- **UI组件**: Scaffold-ETH 2组件库

## 7. 项目文件结构

```
packages/
├── hardhat/
│   ├── contracts/
│   │   └── MBTITest.sol
│   ├── deploy/
│   │   └── 01_deploy_mbti.js
│   └── test/
│       └── MBTITest.test.js
└── nextjs/
    ├── app/
    │   ├── page.tsx (首页)
    │   ├── test/
    │   │   └── page.tsx (测试页)
    │   ├── result/
    │   │   └── page.tsx (结果页)
    │   └── history/
    │       └── page.tsx (历史页)
    ├── components/
    │   ├── TestQuestion.tsx
    │   ├── TestProgress.tsx
    │   ├── ResultDisplay.tsx
    │   └── HistoryList.tsx
    └── hooks/
        └── useMBTITest.ts
```

## 8. 成功指标

### 8.1 功能指标
- [ ] 用户能够完成完整的MBTI测试
- [ ] 测试结果正确计算并显示
- [ ] 结果成功保存到区块链
- [ ] 用户可以查看历史记录

### 8.2 用户体验指标
- [ ] 测试流程流畅，无卡顿
- [ ] 界面美观，符合现代设计标准
- [ ] 移动端适配良好
- [ ] 钱包连接稳定

## 9. 风险与应对

### 9.1 技术风险
- **合约部署失败**: 准备备用部署方案
- **前端集成问题**: 使用成熟的Scaffold-ETH 2框架
- **钱包连接问题**: 提供详细的使用说明

### 9.2 时间风险
- **开发时间不足**: 优先实现核心功能
- **测试时间不够**: 简化测试流程
- **部署时间紧张**: 提前准备部署脚本

## 10. 后续扩展计划

### 10.1 功能扩展
- 添加更多MBTI相关功能
- 支持结果分享到社交媒体
- 添加用户社区功能

### 10.2 技术扩展
- 支持多链部署
- 添加NFT徽章系统
- 集成更多钱包类型

---

**开发团队**: 黑客松团队  
**预计开发时间**: 4小时  
**技术栈**: Scaffold-ETH 2 + Next.js + Solidity  
**目标**: 完成一个功能完整的MBTI性格测定dApp
